# 面試考題: 餐點系統與訂單號碼配置

## 🎓 實作說明

測驗旨在了解開發人員的程式結構思維與問題拆解能力上的表現。  
為開放式實作，**不需完全寫完，答案並非唯一評斷標準**。  
請在限定時間內以平常的開發方式與解題思路進行實作即可。

- 使用 JDK 17
- 類別可自由新增、擴充。
- 請勿修改既有檔案名稱與目錄結構。

> 📦 提交方式：
> 1. [**下載專案**](https://github.com/yusaemi/meal-ordering-exam/archive/refs/heads/master.zip "meal-ordering-exam") ( **Code → Download ZIP** )
> 2. 本機開發完成後，將整個專案資料夾壓縮為 `meal-ordering-exam.zip` 再行提交。

---

以下為考題內容與實作說明。

## 需求背景

公司正在打造一套「線上餐點點餐系統」，目標是讓顧客能即時點選 **輕食餐** 與 **豐盛餐**。  
**每一份餐點都需要一個專屬的訂單號碼**，用於出餐標示與後續配送追蹤。

**訂單號碼會先行批次產生，輕食餐和豐盛餐的訂單號碼規則不同**。  
當廚房完成一份餐點時，系統就會從可用清單中挑選一個 **尚未使用、符合規則** 的訂單號碼配給該餐點。  
如果無法分配，此餐點將會被捨棄。

## 題目內容

### 餐點類別設計

請定義兩個獨立類別，分別代表不同的餐點類型。  
每份餐點的 **價格** 與 **卡路里** 皆需以亂數自動產生。

當餐點物件建立並完成 **訂單號碼** 配置後，**系統會立即輸出該餐點的詳細資訊**，  
以模擬「出餐通知」或「製作完成紀錄」的行為。

#### 輕食餐 (`LightMeal`)
- 屬性:
    * 訂單號碼 (`orderNumber`)
        * 規則:
            * 長度為 **5**
            * 大寫英文 **2** 碼、數字 **3** 碼
            * 英文與數字的順序可任意排列(可為「英文數字」或「數字英文」)
            * 英文可重複，數字不能重複
            - 符合規則號碼
                * **AA123**
                * **123AB**
            - 不符合規則號碼
                * **AA122**
                * **333AB**
    * 價格 (`price`)
        * 價格範圍: 100–110
    * 卡路里 (`calories`)
        * 卡路里範圍: 300–500
- 方法:
    * `printInfo()`: 輸出餐點資訊(包含訂單號碼、價格、卡路里)
        * 例: 輕食餐: 訂單號碼(AA123), 價格(100), 卡路里(350)

#### 豐盛餐 (`FeastMeal`)
- 屬性:
    * 訂單號碼 (`orderNumber`)
        * 規則:
            * 長度為 **7**
            * 大寫英文 **3** 碼、數字 **4** 碼
            * 英文與數字的順序可任意排列(可為「英文數字」或「數字英文」)
            * 英文不能重複，數字可重複但不得有 **4**。
            - 符合規則號碼
                * **ABC5566**
                * **5566ABC**
            - 不符合規則號碼
                * **ABC4566**
                * **5566AAB**
    * 價格 (`price`)
        * 價格範圍: 200–250
    * 卡路里 (`calories`)
        * 卡路里範圍: 700-1000
- 方法:
    * `printInfo()`: 輸出餐點資訊(包含訂單號碼、價格、卡路里)
        * 例: 豐盛餐: 訂單號碼(ABC5566), 價格(250), 卡路里(900)

### 訂單號碼類別設計

請定義一個訂單號碼介面，負責隨機產生「豐盛餐」或「輕食餐」的訂單號碼，參數 `quantity` 為欲產生的訂單號碼數量。  
號碼會因重複或違反規則而被棄用、移除，最終實際產出的數量可能會少於指定的 `quantity`。

#### 訂單號碼介面 (`OrderNumberFactory`)
- 方法:
    * `static List<String> generateOrderNumber(int quantity)`
    - 處理邏輯:
        1. 每個訂單號碼必須是唯一的，不得重複。
        2. 若新產生的號碼與既有號碼重複，則將英數部分對調(反轉)後再嘗試使用。  
           例: **AA123** → **123AA**
        3. 若反轉後的號碼仍重複，則直接**棄用該號碼**，不納入結果。
        4. 在所有號碼產生完成後，系統需**移除含有「KK」或「77」** 的號碼。
        5. 回傳最終可用的訂單號碼清單。

### 主程式

請撰寫主程式以模擬餐點製作與訂單號碼分配流程，執行邏輯如下:

1. 使用 `OrderNumberFactory` 的方法產生**訂單號碼**，參數 `quantity` 值為 **2000** 。
2. 啟動 **2 個執行緒**，模擬兩位廚房人員同時製作餐點:
    - 每個執行緒需各自建立:
        * 500 份 豐盛餐
        * 500 份 輕食餐
3. 每份餐點物件建立後，從可用訂單號碼中指派一組符合規則、未使用的訂單號碼給該物件。
    - 當餐點建立並完成訂單號碼配置後，**輸出該餐點的詳細資訊**。
    - 若無法配置訂單號碼，**該餐點類型剩餘未配置訂單號碼的餐點全部捨棄**。
4. 餐點全部處理完畢後，輸出最終統計結果，包括:
    - **餐點統計:**
        - 已成功配置訂單號碼的輕食餐數量
        - 已成功配置訂單號碼的豐盛餐數量
    - **訂單號碼統計:**
        - 產生的訂單號碼數量
        - 實際配置的訂單號碼數量

## 🌟 延伸實作方向

以下內容僅作為延伸參考，非必要實作項目：  
若有餘裕，可依個人習慣自由發揮。

- 採用 **任一設計模式** 實作餐點物件的建立流程
- 撰寫 **JUnit Test** 驗證訂單號碼與餐點屬性規則
- 提交方式變更，**發送 Pull Request**  
  若具備 GitHub 使用經驗，可選擇 Fork [**此專案**](https://github.com/yusaemi/meal-ordering-exam "meal-ordering-exam") 至個人帳號，完成開發後以 Pull Request 方式提交
